/*!
 * @pixi/canvas-graphics - v5.3.8
 * Compiled Sat, 20 Feb 2021 22:28:33 UTC
 *
 * @pixi/canvas-graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
this.PIXI=this.PIXI||{};var _pixi_canvas_graphics=function(e,t,i,r,a){"use strict";var l,s=function(){function e(e){this.renderer=e,this._svgMatrix=null,this._tempMatrix=new i.Matrix}return e.prototype._calcCanvasStyle=function(e,a){var l;return e.texture&&e.texture.baseTexture!==t.Texture.WHITE.baseTexture?e.texture.valid?(l=r.canvasUtils.getTintedPattern(e.texture,a),this.setPatternTransform(l,e.matrix||i.Matrix.IDENTITY)):l="#808080":l="#"+("00000"+(0|a).toString(16)).substr(-6),l},e.prototype.render=function(e){var t=this.renderer,r=t.context,a=e.worldAlpha,l=e.transform.worldTransform;t.setContextTransform(l),t.setBlendMode(e.blendMode);for(var s,o,n=e.geometry.graphicsData,h=(e.tint>>16&255)/255,v=(e.tint>>8&255)/255,p=(255&e.tint)/255,c=0;c<n.length;c++){var g=n[c],f=g.shape,u=g.fillStyle,x=g.lineStyle,d=0|g.fillStyle.color,T=0|g.lineStyle.color;if(g.matrix&&t.setContextTransform(l.copyTo(this._tempMatrix).append(g.matrix)),u.visible){var y=((d>>16&255)/255*h*255<<16)+((d>>8&255)/255*v*255<<8)+(255&d)/255*p*255;s=this._calcCanvasStyle(u,y)}if(x.visible){var b=((T>>16&255)/255*h*255<<16)+((T>>8&255)/255*v*255<<8)+(255&T)/255*p*255;o=this._calcCanvasStyle(x,b)}if(r.lineWidth=x.width,r.lineCap=x.cap,r.lineJoin=x.join,r.miterLimit=x.miterLimit,g.type===i.SHAPES.POLY){r.beginPath();var S=(A=f).points,m=g.holes,M=void 0,P=void 0,_=void 0,C=void 0;r.moveTo(S[0],S[1]);for(var I=2;I<S.length;I+=2)r.lineTo(S[I],S[I+1]);if(A.closeStroke&&r.closePath(),m.length>0){M=0,_=S[0],C=S[1];for(I=2;I+2<S.length;I+=2)M+=(S[I]-_)*(S[I+3]-C)-(S[I+2]-_)*(S[I+1]-C);for(var w=0;w<m.length;w++)if(S=m[w].shape.points){P=0,_=S[0],C=S[1];for(I=2;I+2<S.length;I+=2)P+=(S[I]-_)*(S[I+3]-C)-(S[I+2]-_)*(S[I+1]-C);if(P*M<0){r.moveTo(S[0],S[1]);for(I=2;I<S.length;I+=2)r.lineTo(S[I],S[I+1])}else{r.moveTo(S[S.length-2],S[S.length-1]);for(I=S.length-4;I>=0;I-=2)r.lineTo(S[I],S[I+1])}m[w].shape.closeStroke&&r.closePath()}}u.visible&&(r.globalAlpha=u.alpha*a,r.fillStyle=s,r.fill()),x.visible&&(r.globalAlpha=x.alpha*a,r.strokeStyle=o,r.stroke())}else if(g.type===i.SHAPES.RECT){var A=f;u.visible&&(r.globalAlpha=u.alpha*a,r.fillStyle=s,r.fillRect(A.x,A.y,A.width,A.height)),x.visible&&(r.globalAlpha=x.alpha*a,r.strokeStyle=o,r.strokeRect(A.x,A.y,A.width,A.height))}else if(g.type===i.SHAPES.CIRC){A=f;r.beginPath(),r.arc(A.x,A.y,A.radius,0,2*Math.PI),r.closePath(),u.visible&&(r.globalAlpha=u.alpha*a,r.fillStyle=s,r.fill()),x.visible&&(r.globalAlpha=x.alpha*a,r.strokeStyle=o,r.stroke())}else if(g.type===i.SHAPES.ELIP){var k=2*(A=f).width,E=2*A.height,R=A.x-k/2,G=A.y-E/2;r.beginPath();var X=k/2*.5522848,H=E/2*.5522848,L=R+k,q=G+E,z=R+k/2,D=G+E/2;r.moveTo(R,D),r.bezierCurveTo(R,D-H,z-X,G,z,G),r.bezierCurveTo(z+X,G,L,D-H,L,D),r.bezierCurveTo(L,D+H,z+X,q,z,q),r.bezierCurveTo(z-X,q,R,D+H,R,D),r.closePath(),u.visible&&(r.globalAlpha=u.alpha*a,r.fillStyle=s,r.fill()),x.visible&&(r.globalAlpha=x.alpha*a,r.strokeStyle=o,r.stroke())}else if(g.type===i.SHAPES.RREC){var j=(A=f).x,B=A.y,N=A.width,O=A.height,V=A.radius,W=Math.min(N,O)/2|0;V=V>W?W:V,r.beginPath(),r.moveTo(j,B+V),r.lineTo(j,B+O-V),r.quadraticCurveTo(j,B+O,j+V,B+O),r.lineTo(j+N-V,B+O),r.quadraticCurveTo(j+N,B+O,j+N,B+O-V),r.lineTo(j+N,B+V),r.quadraticCurveTo(j+N,B,j+N-V,B),r.lineTo(j+V,B),r.quadraticCurveTo(j,B,j,B+V),r.closePath(),u.visible&&(r.globalAlpha=u.alpha*a,r.fillStyle=s,r.fill()),x.visible&&(r.globalAlpha=x.alpha*a,r.strokeStyle=o,r.stroke())}}},e.prototype.setPatternTransform=function(e,t){if(!1!==this._svgMatrix){if(!this._svgMatrix){var i=document.createElementNS("http://www.w3.org/2000/svg","svg");if(i&&i.createSVGMatrix&&(this._svgMatrix=i.createSVGMatrix()),!this._svgMatrix||!e.setTransform)return void(this._svgMatrix=!1)}this._svgMatrix.a=t.a,this._svgMatrix.b=t.b,this._svgMatrix.c=t.c,this._svgMatrix.d=t.d,this._svgMatrix.e=t.tx,this._svgMatrix.f=t.ty,e.setTransform(this._svgMatrix.inverse())}},e.prototype.destroy=function(){this.renderer=null,this._svgMatrix=null,this._tempMatrix=null},e}(),o=new i.Matrix;return a.Graphics.prototype.generateCanvasTexture=function(e,i){void 0===i&&(i=1);var a=this.getLocalBounds(),s=t.RenderTexture.create({width:a.width,height:a.height,scaleMode:e,resolution:i});l||(l=new r.CanvasRenderer),this.transform.updateLocalTransform(),this.transform.localTransform.copyTo(o),o.invert(),o.tx-=a.x,o.ty-=a.y,l.render(this,s,!0,o);var n=t.Texture.from(s.baseTexture._canvasRenderTarget.canvas,{scaleMode:e});return n.baseTexture.setResolution(i),n},a.Graphics.prototype.cachedGraphicsData=[],a.Graphics.prototype._renderCanvas=function(e){!0!==this.isMask&&(this.finishPoly(),e.plugins.graphics.render(this))},e.CanvasGraphicsRenderer=s,e}({},PIXI,PIXI,PIXI,PIXI);Object.assign(this.PIXI,_pixi_canvas_graphics);
//# sourceMappingURL=canvas-graphics.min.js.map
